#!/bin/sh
# ACL2 Jupyter Kernel â€” saved image launcher
# Generated by build-kernel-image.sh
#
# This is analogous to ACL2's saved_acl2 script but calls
# acl2-jupyter-kernel:start instead of acl2::sbcl-restart.
# The start function calls acl2-default-restart (ACL2 init)
# then enters the Jupyter kernel event loop.

export SBCL_HOME='/usr/local/lib/sbcl/'
exec '/usr/local/bin/sbcl' \
  --tls-limit 16384 --dynamic-space-size 32000 --control-stack-size 64 \
  --disable-ldb \
  --core '/workspaces/acl2-jupyter-stp/context/acl2-jupyter-kernel/saved_acl2_jupyter.core' \
  ${SBCL_USER_ARGS} --end-runtime-options \
  --no-userinit \
  --eval '(acl2-jupyter-kernel:start)' \
  "$@"
